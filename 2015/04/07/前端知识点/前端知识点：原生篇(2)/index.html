<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 前端知识点：原生篇(2) · 刘擎</title><meta name="description" content="前端知识点：原生篇(2) - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="刘擎"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">文章列表</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">前端知识点：原生篇(2)</h1><div class="post-info">Apr 7, 2015</div><div class="post-content"><h2 id="1-js操作元素属性"><a href="#1-js操作元素属性" class="headerlink" title="1. js操作元素属性"></a>1. js操作元素属性</h2><ul>
<li><strong>.</strong> 属性操作符(不可以接收变量)</li>
<li><strong>[]</strong> 中括号可以操作属性也可以接收变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function setValue() &#123;        //省略获取元素oBtn, oBtn2的伪代码</div><div class="line">        oBtn.value = &apos;bbb&apos;;</div><div class="line">        oBtn2[&apos;value&apos;] = &apos;bbb&apos;;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>凡是<strong>.</strong> 出现的地方都可以用中括号替代</p>
</blockquote>
<h2 id="2-js设置复杂样式"><a href="#2-js设置复杂样式" class="headerlink" title="2. js设置复杂样式"></a>2. js设置复杂样式</h2><blockquote>
<p>非首单词的首字母大写并去掉-符</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">    .complex &#123;</div><div class="line">        margin-left: 10px;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function setStyle() &#123;        var oC = document.getElementsByClassName(&apos;complex&apos;)[0];</div><div class="line">        oC.style.marginLeft = &apos;10px&apos;;</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="3-物体从中心放大"><a href="#3-物体从中心放大" class="headerlink" title="3. 物体从中心放大"></a>3. 物体从中心放大</h2><blockquote>
<ul>
<li>margin-top: -变化的高度/2</li>
<li>margin-left: -变化的宽度/2</li>
</ul>
</blockquote>
<h2 id="4-a链接防止刷新"><a href="#4-a链接防止刷新" class="headerlink" title="4. a链接防止刷新"></a>4. a链接防止刷新</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;#&quot;&gt;点击会刷新页面&lt;/a&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;javascript:;&quot;&gt;点击不会刷新页面！(推荐使用)&lt;/a&gt;</div><div class="line">&lt;!-- javascript:;相当于一个伪协议 --&gt;</div></pre></td></tr></table></figure>
<h2 id="5-循环添加事件，事件中的循环变量不能用"><a href="#5-循环添加事件，事件中的循环变量不能用" class="headerlink" title="5. 循环添加事件，事件中的循环变量不能用"></a>5. 循环添加事件，事件中的循环变量不能用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function clickEg() &#123;        //获取一组按钮    ps:js一组元素不能一起改变样式或设置事件</div><div class="line">        var aBtn = document.getElementsByTagName(&apos;button&apos;);        for(var i = 0; i &lt; 3; i++) &#123;</div><div class="line">            aBtn[i].onclick = function() &#123;                //循环中的i变量此时已自增至3</div><div class="line">                //aBtn[i].style.background = &apos;#f00&apos;;</div><div class="line"></div><div class="line">                //当前事件发生的对象 aBtn[i]为this</div><div class="line">                this.style.background = &apos;f00&apos;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="6-浏览器加载的过程"><a href="#6-浏览器加载的过程" class="headerlink" title="6. 浏览器加载的过程"></a>6. 浏览器加载的过程</h2><p>1.加载整个页面的标签和属性<br>2.过滤不符合W3C标准的标签和属性(高级浏览器)<br>3.执行js -&gt; window.onload</p>
<h2 id="7-DOM获取元素方法"><a href="#7-DOM获取元素方法" class="headerlink" title="7. DOM获取元素方法"></a>7. DOM获取元素方法</h2><h3 id="1-document-getElementById-‘id’"><a href="#1-document-getElementById-‘id’" class="headerlink" title="1.document.getElementById(‘id’);"></a>1.document.getElementById(‘id’);</h3><h3 id="2-document-obj-getElementsByTagName-‘TagName’"><a href="#2-document-obj-getElementsByTagName-‘TagName’" class="headerlink" title="2.document/obj.getElementsByTagName(‘TagName’);"></a>2.document/obj.getElementsByTagName(‘TagName’);</h3><h3 id="3-document-obj-getElementsByClassName-‘ClassName’"><a href="#3-document-obj-getElementsByClassName-‘ClassName’" class="headerlink" title="3.document/obj.getElementsByClassName(‘ClassName’);"></a>3.document/obj.getElementsByClassName(‘ClassName’);</h3><p>兼容：Chrome、FF、IE9+</p>
<p>obj.getElementsByClassName</p>
<ul>
<li><p>高级浏览器 -&gt; function</p>
</li>
<li><p>IE8- -&gt; undefined</p>
<h4 id="兼容写法"><a href="#兼容写法" class="headerlink" title="兼容写法"></a>兼容写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;  function getByClass(obj, sClass) &#123;    // obj为从哪个父级下面查找类为sClass的元素</div><div class="line">          if(obj.getElementsByClassName) &#123;    // IE8- -&gt; undefined  高级浏览器 -&gt; function</div><div class="line">              return obj.getElementsByClassName(sClass);    // 高级浏览器</div><div class="line">          &#125; else &#123;    // IE8</div><div class="line">              var aEle = document.getElementsByTagName(&apos;*&apos;);              var arr = [];              for(var i=0; i&lt;aEle.length; i++)&#123;                  var temp = aEle[i].className.split(&apos; &apos;);                  if(findInArr(sClass, temp)) &#123;</div><div class="line">                      arr.push(aEle[i]);</div><div class="line">                  &#125;</div><div class="line">              &#125;              return arr;</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<ul>
<li>getElementById只能从document下获取<br> var oDiv = document.getElementById(‘id’);</li>
<li>getElementsByTagName/getElementsByClassName可以从document下获取，也可以从父级下获取<br> var oDiv2 = document.getElementsByClassName(‘ClassName’)[0];<br> var oDiv3 = oBox.getElementsByTagName(‘TagName’)[0];</li>
</ul>
</blockquote>
<h2 id="8-js中的真假"><a href="#8-js中的真假" class="headerlink" title="8. js中的真假"></a>8. js中的真假</h2><ul>
<li>真：非0数字，非空字符串，true，非空对象</li>
<li>假：0，空字符串(‘’)，false，空对象(null)，undefined，NaN</li>
</ul>
<h2 id="9-获取元素当前样式-兼容"><a href="#9-获取元素当前样式-兼容" class="headerlink" title="9. 获取元素当前样式(兼容)"></a>9. 获取元素当前样式(兼容)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function getStyle(obj, name)&#123;    //元素，样式名称</div><div class="line">        if(obj.currentStyle) &#123;    // Chrome、FF -&gt; undefined    IE -&gt; object</div><div class="line">            // IE系</div><div class="line">            return obj.currentStyle[name];    // 兼容IE系</div><div class="line">        &#125; else &#123;            // Chrome、FF</div><div class="line">            return getComputedStyle(obj, false)[name];    // 兼容高级浏览器(Chrome、FF、IE9+)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>简化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function getStyle(obj, name)&#123;    //元素，样式名称</div><div class="line">        return (obj.currentStyle || getComputedStyle(obj, false))[name];</div><div class="line">    &#125;    // 调用</div><div class="line">    console.log(parseInt(getStyle(oDiv, &apos;heihgt&apos;)));&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="10-获取一个n-m之间的随机数-n-lt-m，且不包括m"><a href="#10-获取一个n-m之间的随机数-n-lt-m，且不包括m" class="headerlink" title="10. 获取一个n~m之间的随机数(n&lt;m，且不包括m)"></a>10. 获取一个n~m之间的随机数(n&lt;m，且不包括m)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    function rnd(n, m) &#123;        return parseInt(Math.random() * (m - n) + n);</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>应用：随机变色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; &lt;script&gt;    // rgb色值范围[0, 255]</div><div class="line">&gt;     oDiv.style.background = &apos;rgb(&apos; + rnd(0, 256) + &apos;,&apos; + rnd(0, 256) + &apos;,&apos; + rnd(0, 256) + &apos;)&apos;;&lt;/script&gt;</div><div class="line">&gt;</div></pre></td></tr></table></figure></blockquote>
</div></article></div></main><footer><div class="paginator"><a href="/2015/04/10/前端知识点/前端知识点：原生篇(3)/" class="prev">PREV</a><a href="/2015/04/07/前端知识点/前端知识点：原生篇(1)/" class="next">NEXT</a></div><div class="copyright"><p>© 2014 - 2017 刘擎.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>