<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 前端知识点：原生篇(5) · 刘擎</title><meta name="description" content="前端知识点：原生篇(5) - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="刘擎"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">文章列表</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">前端知识点：原生篇(5)</h1><div class="post-info">Apr 13, 2015</div><div class="post-content"><h2 id="1-select下拉框的相关属性"><a href="#1-select下拉框的相关属性" class="headerlink" title="1. select下拉框的相关属性"></a>1. select下拉框的相关属性</h2><ul>
<li>选中的索引值<br>oSel.selectedIndex</li>
<li>获取所有选项<br>oSel.options</li>
<li>获取选中的选项的文本内容<br>oSel.options[oSel.selectedIndex].innerHTML<br>oSel.options[oSel.selectedIndex].text</li>
<li>添加选项<br>var option = new Option(文本内容, value值);<br>oSel.options.add(option);</li>
<li>删除选项<br>oSel.options.remove(index);</li>
</ul>
<h2 id="2-预解析"><a href="#2-预解析" class="headerlink" title="2. 预解析"></a>2. 预解析</h2><p>变量和函数的定义会预先解析，解析在当前script标签内的最上面</p>
<blockquote>
<p>作用域：(1)script (2)函数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;   </div><div class="line">    var a = 111;    </div><div class="line">    function show() &#123;</div><div class="line">        alert(a);        </div><div class="line">        var a = 12;        // 相当于</div><div class="line">                           // var a;</div><div class="line">                           // alert(a);    //undefined</div><div class="line">                           // a = 12;</div><div class="line">    &#125;</div><div class="line">    show();        // undefined</div><div class="line">    alert(a);    // 111</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="3-已知计算机编码查看对应单词"><a href="#3-已知计算机编码查看对应单词" class="headerlink" title="3. 已知计算机编码查看对应单词"></a>3. 已知计算机编码查看对应单词</h2><p>String.fromCharCode(‘0x4e00’);     // 对应中文 “一”</p>
<ul>
<li>第一个中文     0x4e00 一</li>
<li>最后一个中文    0x9fa5 龥(yu)</li>
</ul>
<p><strong>unicode编码：以\u开头 \u4e00(一) ~ \u9fa5(龥)</strong></p>
<h2 id="4-字节长度和编码的关系"><a href="#4-字节长度和编码的关系" class="headerlink" title="4. 字节长度和编码的关系"></a>4. 字节长度和编码的关系</h2><p>英文、数组都占1个字节，与编码格式无关<br>UTF-8；中文占3个字节<br>GB2312：中文占2个字节</p>
<h3 id="封装一个求字节长度的函数"><a href="#封装一个求字节长度的函数" class="headerlink" title="封装一个求字节长度的函数"></a>封装一个求字节长度的函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    function getBytesLen(str, type) &#123;    // 字符串，编码格式</div><div class="line">        var result = 0;</div><div class="line">        type = type.toLowerCase();        </div><div class="line">        for (var i = 0; i &lt; str.length; i++) &#123;</div><div class="line">            if(str.charAt(i) &gt;= &apos;\u4e00&apos; &amp;&amp; str.charAt(i) &lt;= &apos;\u9fa5&apos;) &#123;                if(type == &apos;gb2312&apos;) &#123;</div><div class="line">                    result += 2;</div><div class="line">                &#125; else &#123;</div><div class="line">                    result += 3;</div><div class="line">                &#125;</div><div class="line">            &#125; else &#123;</div><div class="line">                result++;</div><div class="line">            &#125;</div><div class="line">        &#125;        </div><div class="line">        return result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="5-严格模式"><a href="#5-严格模式" class="headerlink" title="5. 严格模式"></a>5. 严格模式</h2><p><strong>非严格模式下，没有用var定义变量时为全局变量，全局的东西都属于window</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    function show()&#123;</div><div class="line">        a = 12;        //a没有var时a为全局变量</div><div class="line">        alert(a);    //1. 12</div><div class="line">    &#125;</div><div class="line">    show();        //需先调用show函数</div><div class="line">    alert(a);    //2. 12</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>严格模式</p>
<p>在script标签内最上面写<code>&#39;use strict&#39;;</code>   <strong>IE6不识别但不报错</strong></p>
<p><code>&#39;use strict&#39;;</code>好处：</p>
<ol>
<li>修复局部this的问题</li>
<li>不允许if/while/for里面定义函数</li>
<li>去掉了with(){}</li>
<li>定义变量必须加var</li>
</ol>
<p>作用域：(1)当前script标签内 (2)函数  (3)js文件</p>
<p><strong>坑</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    var a = 5;    </div><div class="line">    if(a % 2) &#123;        </div><div class="line">        function show() &#123;</div><div class="line">            alert(&apos;单数&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;        </div><div class="line">        function show() &#123;</div><div class="line">            alert(&apos;双数&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    show();    // 单数 最新版高级浏览器中预解析不会覆盖，之前版本预解析后此例预解析覆盖 弹出双数</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    &apos;use strict&apos;;    </div><div class="line">    var a = 5;    </div><div class="line">    if(a % 2) &#123;        </div><div class="line">        function show() &#123;</div><div class="line">            alert(&apos;单数&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;        </div><div class="line">        function show() &#123;</div><div class="line">            alert(&apos;双数&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    show();    // show is not defined，严格模式不允许if/for里面定义函数</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="6-连等及逗号运算符"><a href="#6-连等及逗号运算符" class="headerlink" title="6. 连等及逗号运算符"></a>6. 连等及逗号运算符</h2><h3 id="连等"><a href="#连等" class="headerlink" title="连等"></a>连等</h3><p><strong>函数内部使用连等定义变量，第一个是局部变量，其余是全局变量。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    function show()&#123;        </div><div class="line">        var a=b=c=1;    //a是局部变量，b、c是全局变量</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a>逗号运算符</h3><p><strong>逗号运算符 以最后一个为准</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;    </div><div class="line">    var a = (1, 2, 3); // a=3</div><div class="line"></div><div class="line">    for (var i = 0, j = 5, k = 8; i &lt; 10, j &lt; 10, k &lt; 10; i++, j++, k++) &#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    alert(i + j + k); // 2+7+10=19</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="7-文本提示框"><a href="#7-文本提示框" class="headerlink" title="7. 文本提示框"></a>7. 文本提示框</h2><p>聚焦事件：oT.onfocus = function() {};<br>失焦事件：oT.onblur = function() {};</p>
<blockquote>
<p>强制获取一个焦点：oT.focus();<br>强制失去一个焦点：oT.blur();</p>
</blockquote>
<h2 id="8-form表单"><a href="#8-form表单" class="headerlink" title="8. form表单"></a>8. form表单</h2><p>想要提交数据须有</p>
<ol>
<li>action 提交的地址</li>
<li>name   数据名称</li>
<li>value  数据       input.value</li>
</ol>
<p>提交方式</p>
<ol>
<li>get(默认) 容量32K左右  不安全，有缓存<br><strong>好处：(1)分享 (2)收藏</strong></li>
<li>post      容量1G左右   相对安全，没有缓存</li>
</ol>
</div></article></div></main><footer><div class="paginator"><a href="/2015/06/05/前端知识点/前端知识点：数组应用/" class="prev">上一篇</a><a href="/2015/04/11/前端知识点/前端知识点：原生篇(4)/" class="next">下一篇</a></div><div class="copyright"><p>© 2014 - 2017 刘擎.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>